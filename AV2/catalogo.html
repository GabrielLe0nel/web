
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filmes</title>

    <style>
        .lista {
            display: flex;
            flex-wrap: wrap;
            gap: 18px;
            margin-top: 20px;
        }

        .item {
            width: 150px;
            text-align: center;
            border: 1px solid black;
        }

        .item img {
            width: 100%;
            height: auto;
        }
        button{
            background-color: azure;
            padding: 8px;
        }
        input{
            border: none;
            background-color: burlywood;
            padding: 8px;

        }
    </style>

</head>

<body>

<h1>Filmes</h1>
<form>
    <input id="pesquisa" name="pesquisa" placeholder="Digite o nome do filme" />
    <button>Pesquisar</button>
</form>

<div class="lista"></div>


<script>
    const apikey = 'f890c9a1';
    const frmPesquisa = document.querySelector("form");

    frmPesquisa.onsubmit = (ev) => {
        ev.preventDefault();

        const pesquisa = ev.target.pesquisa.value;

        if (pesquisa == "") {
            alert ('Preenha o campo!');
            return;
        }

        fetch(`https://www.omdbapi.com/?s=${pesquisa}&apikey=${apikey}`)
            .then(result => result.json())
            .then(json => carregaLista(json));
    }

    const carregaLista = (json) => {
        const lista = document.querySelector("div.lista");
        lista.innerHTML = "";

        if (json.Response == 'False') {
            alert('Nenhum filme encontrado');
            return;
        }

        json.Search.forEach(element => {

            let item = document.createElement("div");
            item.classList.add("item");

            item.innerHTML = `
                <img src="${element.Poster}"/>
                <h2>${element.Title} (${element.Year})</h2>
            `;

            lista.appendChild(item);
        });
    }
</script>


</body>

</html>





